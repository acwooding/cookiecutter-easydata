<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A project template and directory structure for Python reproducible and collaborative data science projects.">
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Datasets - Cookiecutter Easydata</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    
    <link href="../css/extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-54096005-4', 'auto');
    ga('send', 'pageview');
    </script>
    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="..">Cookiecutter Easydata</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../opinions/">Opinions</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Datasets</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../opinions/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li class="disabled">
                        <a rel="next" >
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/hackalog/cookiecutter-easydata/edit/master/docs/datasets.md"><i class="fab fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#datasets">Datasets</a></li>
            <li class="second-level"><a href="#what-is-a-dataset-object">What is a Dataset object?</a></li>
                
            <li class="second-level"><a href="#why-metadata">Why metadata?</a></li>
                
            <li class="second-level"><a href="#using-a-dataset">Using a Dataset</a></li>
                
            <li class="second-level"><a href="#the-dataset-catalog">The Dataset catalog</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="datasets">Datasets</h1>
<p>Easydata lets you build a dataset catalog from which you can load any dataset in the catalog via its <code>dataset_name</code> via the <code>.load</code> API.</p>
<pre><code class="language-python">ds = Dataset.load(dataset_name)
</code></pre>
<p>The basic idea is that we don't want to share data directly, instead, we share the recipes for how to re-create Datasets. These recipes are stored in the dataset catalog. Datasets can then be shared by sharing the catalog.</p>
<p>Datasets are the fundamental object that makes sharing of datasets reproducible, as they keep track of their own recipes, check that the data created from a recipe has the correct hashes, and keep licenses and other metadata with the data itself.</p>
<h2 id="what-is-a-dataset-object">What is a <code>Dataset</code> object?</h2>
<p>A Dataset is the fundamental object we use for turning raw data into useful datasets, reproducibly. It is like a scikit-learn-style <code>Bunch</code> object---essentially, a dictionary with some extra magic to make it nicer to work with---containing the following attributes:</p>
<pre><code class="language-bash">        data: the processed data
        target: (optional) target vector (for supervised learning problems)
        metadata: Data about the data
</code></pre>
<p>The <code>data</code> attribute can really be any processed data form that you like: sometimes it's a pandas dataframe, a list of tuples containing other data, or other formats including  <code>scipy.sparse</code> matrices or <code>igraph</code> graphs. The <code>target</code> (if you're using it), expects something that matches the <code>data</code> in terms of length.</p>
<p>For a hint as to which data format to expect, you can look at the contents of the <code>DESCR</code> attribute, one of the many pieces of medata that are maintained as part of the <code>Dataset</code> object.</p>
<p>This <code>metadata</code> is where things get interesting... which we'll cover on its own next.</p>
<h2 id="why-metadata">Why <code>metadata</code>?</h2>
<p>The <code>metadata</code> is where the magic lives. It serves several purposes in terms of bookkeeping:</p>
<ul>
<li>it includes <code>HASHES</code>, which <strong>improve data reproducibility</strong>, since what you download and process gets checked each step along the way to ensure the raw data matches what is stored in the <code>dataset_catalog</code>,</li>
<li>it provides easy access to <strong>what the data is</strong> via the <code>DESCR</code> attribute,</li>
<li>it provides easy (and continual) <strong>access to the license / usage restrictions</strong> for the data (the <code>LICENSE</code> attribute), which helps with knowing what you can do when <a href="sharing-your-work.md">Sharing your Work</a>.</li>
<li>it provides the <strong>extra data manifest</strong>, <code>EXTRA</code>, if your dataset includes around additional raw data (extra) files.</li>
</ul>
<p>In short, it helps you to know what data you're working with, what you can do with it, and whether something has gone wrong.</p>
<p>Under the hood, metadata is a dictionary; however metadata can also be accessed by referring to attributes expressed in uppercase. For example, <code>ds.metadata['license']</code> and <code>ds.LICENSE</code> refer to the same thing.</p>
<h2 id="using-a-dataset">Using a <code>Dataset</code></h2>
<p>As mentioned before, to load a <code>Dataset</code>:</p>
<pre><code class="language-python">ds = Dataset.load(&quot;&lt;dataset-name&gt;&quot;)
</code></pre>
<p>At this point, if you already have a cached copy of the desired <code>Dataset</code> on disk, it will load it. Otherwise, the it will follow the <em>recipe</em> for generating the requested <code>Dataset</code>; i.e. generate the dataset from raw data, as per the instructions contained in the <code>dataset_catalog</code> (described below).</p>
<p>Because of licenses and other distribution restrictions, some of the datasets may require a <strong>manual download</strong> step. If so, you will be prompted at this point and given instructions for what to do. Some datasets will require local pre-processing. If so, the first time your run the command, you will be executing all of the processing scripts (which can be quite slow).</p>
<p>After the first load, however, datasets will load from cache on disk which should be fast. If you need to free up space, you can even delete related source files from <code>data/raw</code> and <code>data/interim</code>. Just don't touch the <code>data/processed</code> directory.</p>
<p>To access the data, target or metdata:</p>
<pre><code class="language-python">ds.data
ds.target
ds.metadata
</code></pre>
<p>To access the most common metadata fields:</p>
<pre><code class="language-python">ds.DESCR          # or ds.metadata['descr']
ds.LICENSE        # or ds.metadata['license']
ds.HASHES         # or ds.metadata['hashes']
</code></pre>
<h2 id="the-dataset-catalog">The Dataset catalog</h2>
<p>You can explore all of the currently available <code>Datasets</code> via the dataset catalog. The catalog keeps a record of the recipes used to generate a <code>Dataset</code> along with relevant hashes that are used to ensure the integrity of data when it's loaded.</p>
<p>To access the catalog:</p>
<pre><code class="language-python">workflow.available_datasets(keys_only=True)
</code></pre>
<p>If you're interested, set <code>keys_only=False</code> to see the complete contents of the metadata that is saved in the catalog.</p></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>CCBY 4.0</small><br>
            
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
